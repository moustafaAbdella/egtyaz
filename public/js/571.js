/*! For license information please see 571.js.LICENSE.txt */
"use strict";(self.webpackChunklaravue=self.webpackChunklaravue||[]).push([[571],{140:(t,e,n)=>{n.d(e,{A:()=>r});var i=n(6798),o=n.n(i)()(function(t){return t[1]});o.push([t.id,".tinymce-container[data-v-4b676504]{line-height:normal;position:relative}.tinymce-container[data-v-4b676504] .mce-fullscreen{z-index:10000}.tinymce-textarea[data-v-4b676504]{visibility:hidden;z-index:-1}.editor-custom-btn-container[data-v-4b676504]{position:absolute;right:4px;top:4px}.fullscreen .editor-custom-btn-container[data-v-4b676504]{position:fixed;z-index:10000}.editor-upload-btn[data-v-4b676504]{display:inline-block}",""]);const r=o},1527:(t,e,n)=>{n.d(e,{A:()=>l});var i=n(5751);function o(t){return o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},o(t)}function r(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,a(i.key),i)}}function a(t){var e=function(t,e){if("object"!=o(t)||!t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var i=n.call(t,e||"default");if("object"!=o(i))return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==o(e)?e:e+""}var l=function(){return t=function t(e){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.uri=e},(e=[{key:"list",value:function(t){return(0,i.A)({url:"/"+this.uri,method:"get",params:t})}},{key:"get",value:function(t){return(0,i.A)({url:"/"+this.uri+"/"+t,method:"get"})}},{key:"store",value:function(t){return(0,i.A)({url:"/"+this.uri,method:"post",data:t})}},{key:"update",value:function(t,e){return(0,i.A)({url:"/"+this.uri+"/"+t,method:"put",data:e})}},{key:"destroy",value:function(t){return(0,i.A)({url:"/"+this.uri+"/"+t,method:"delete"})}},{key:"active",value:function(t,e,n){return(0,i.A)({url:"/"+this.uri+"/active/"+n,method:"post",data:{status:e}})}},{key:"select",value:function(t){return(0,i.A)({url:"/"+this.uri+"/select",method:"get",params:t})}},{key:"selectByType",value:function(t){return(0,i.A)({url:"/"+this.uri+"/select/"+t,method:"get"})}}])&&r(t.prototype,e),n&&r(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t;var t,e,n}()},1538:(t,e,n)=>{n.d(e,{A:()=>c});var i=n(5457);const o={name:"EditorSlideUpload",props:{color:{type:String,default:"#1890ff"}},data:function(){return{apiUrl:i.A.apiUrl+"admin/upload?return=object",dialogVisible:!1,listObj:{},fileList:[]}},methods:{checkAllSuccess:function(){var t=this;return Object.keys(this.listObj).every(function(e){return t.listObj[e].hasSuccess})},handleSubmit:function(){var t=this,e=Object.keys(this.listObj).map(function(e){return t.listObj[e]});this.checkAllSuccess()?(this.$emit("successCBK",e),this.listObj={},this.fileList=[],this.dialogVisible=!1):this.$message("Please wait for all images to be uploaded successfully or there is a network problem, please refresh the page and re-upload!")},handleSuccess:function(t,e){for(var n=e.uid,i=Object.keys(this.listObj),o=0,r=i.length;o<r;o++)if(this.listObj[i[o]].uid===n)return this.listObj[i[o]].url=t.files.file,void(this.listObj[i[o]].hasSuccess=!0)},handleRemove:function(t){for(var e=t.uid,n=Object.keys(this.listObj),i=0,o=n.length;i<o;i++)if(this.listObj[n[i]].uid===e)return void delete this.listObj[n[i]]},beforeUpload:function(t){var e=this,n=window.URL||window.webkitURL,i=t.uid;return this.listObj[i]={},new Promise(function(o,r){var a=new Image;a.src=n.createObjectURL(t),a.onload=function(){e.listObj[i]={hasSuccess:!1,uid:t.uid,width:this.width,height:this.height}},o(!0)})}}};var r=n(5072),a=n.n(r),l=n(5514),s={insert:"head",singleton:!1};a()(l.A,s);l.A.locals;const c=(0,n(4486).A)(o,function(){var t=this,e=t._self._c;return e("div",{staticClass:"upload-container"},[e("el-button",{style:{background:t.color,borderColor:t.color},attrs:{icon:"el-icon-upload",size:"mini",type:"primary"},on:{click:function(e){t.dialogVisible=!0}}},[t._v("\n    Upload Image\n  ")]),t._v(" "),e("el-dialog",{attrs:{visible:t.dialogVisible},on:{"update:visible":function(e){t.dialogVisible=e}}},[e("el-upload",{staticClass:"editor-slide-upload",attrs:{multiple:!0,"file-list":t.fileList,"show-file-list":!0,"on-remove":t.handleRemove,"on-success":t.handleSuccess,"before-upload":t.beforeUpload,action:t.apiUrl,"list-type":"picture-card"}},[e("el-button",{attrs:{size:"small",type:"primary"}},[t._v("Click here to upload")])],1),t._v(" "),e("el-button",{on:{click:function(e){t.dialogVisible=!1}}},[t._v("Cancel")]),t._v(" "),e("el-button",{attrs:{type:"primary"},on:{click:t.handleSubmit}},[t._v("Confirm")])],1)],1)},[],!1,null,"ca85efd8",null).exports},1783:(t,e,n)=>{n.d(e,{A:()=>d});var i=n(1538),o=n(1795);const r=["searchreplace bold italic underline strikethrough alignleft aligncenter alignright outdent indent  blockquote undo redo removeformat subscript superscript code codesample","hr bullist numlist link image charmap preview anchor pagebreak insertdatetime media table emoticons forecolor backcolor fullscreen"],a={name:"Tinymce",components:{editorImage:i.A},props:{id:{type:String,default:function(){return"vue-tinymce-"+ +new Date+(1e3*Math.random()).toFixed(0)}},value:{type:String,default:""},toolbar:{type:Array,required:!1,default:function(){return[]}},menubar:{type:String,default:"file edit insert view format table"},height:{type:Number,required:!1,default:360}},data:function(){return{hasChange:!1,hasInit:!1,tinymceId:this.id,fullscreen:!1,languageTypeList:{en:"en",zh:"zh_CN"}}},computed:{language:function(){return this.languageTypeList[this.$store.getters.language]}},watch:{value:function(t){var e=this;!this.hasChange&&this.hasInit&&this.$nextTick(function(){return window.tinymce.get(e.tinymceId).setContent(t||"")})},language:function(){var t=this;this.destroyTinymce(),this.$nextTick(function(){return t.initTinymce()})}},mounted:function(){this.initTinymce()},activated:function(){this.initTinymce()},deactivated:function(){this.destroyTinymce()},destroyed:function(){this.destroyTinymce()},methods:{initTinymce:function(){var t=this,e=this;window.tinymce.init({language:this.language,selector:"#".concat(this.tinymceId),height:this.height,body_class:"panel-body ",object_resizing:!1,toolbar:this.toolbar.length>0?this.toolbar:r,menubar:this.menubar,plugins:o.A,end_container_on_empty_block:!0,powerpaste_word_import:"clean",code_dialog_height:450,code_dialog_width:1e3,advlist_bullet_styles:"square",advlist_number_styles:"default",imagetools_cors_hosts:["www.tinymce.com","codepen.io"],convert_urls:!1,default_link_target:"_blank",link_title:!1,nonbreaking_force_tab:!0,init_instance_callback:function(n){e.value&&n.setContent(e.value),e.hasInit=!0,n.on("NodeChange Change KeyUp SetContent",function(){t.hasChange=!0,t.$emit("input",n.getContent())})},setup:function(t){t.on("FullscreenStateChanged",function(t){e.fullscreen=t.state})}})},destroyTinymce:function(){var t=window.tinymce.get(this.tinymceId);this.fullscreen&&t.execCommand("mceFullScreen"),t&&t.destroy()},setContent:function(t){window.tinymce.get(this.tinymceId).setContent(t)},getContent:function(){window.tinymce.get(this.tinymceId).getContent()},imageSuccessCBK:function(t){var e=this;t.forEach(function(t){window.tinymce.get(e.tinymceId).insertContent('<img class="wscnph" src="'.concat(t.url,'" >'))})}}};var l=n(5072),s=n.n(l),c=n(140),u={insert:"head",singleton:!1};s()(c.A,u);c.A.locals;const d=(0,n(4486).A)(a,function(){var t=this,e=t._self._c;return e("div",{staticClass:"tinymce-container editor-container",class:{fullscreen:t.fullscreen}},[e("textarea",{staticClass:"tinymce-textarea",attrs:{id:t.tinymceId}}),t._v(" "),e("div",{staticClass:"editor-custom-btn-container"},[e("editorImage",{staticClass:"editor-upload-btn",attrs:{color:"#1890ff"},on:{successCBK:t.imageSuccessCBK}})],1)])},[],!1,null,"4b676504",null).exports},1795:(t,e,n)=>{n.d(e,{A:()=>i});const i=["advlist anchor autolink autosave code codesample colorpicker colorpicker contextmenu directionality emoticons fullscreen hr image imagetools insertdatetime link lists media nonbreaking noneditable pagebreak paste preview print save searchreplace spellchecker tabfocus table template textcolor textpattern visualblocks visualchars wordcount mathslate"]},2154:(t,e,n)=>{n.d(e,{A:()=>u});n(5751);function i(t){return i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},i(t)}function o(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,r(i.key),i)}}function r(t){var e=function(t,e){if("object"!=i(t)||!t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var o=n.call(t,e||"default");if("object"!=i(o))return o;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==i(e)?e:e+""}function a(t,e,n){return e=s(e),function(t,e){if(e&&("object"==i(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(t,l()?Reflect.construct(e,n||[],s(t).constructor):e.apply(t,n))}function l(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(t){}return(l=function(){return!!t})()}function s(t){return s=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},s(t)}function c(t,e){return c=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},c(t,e)}var u=function(t){function e(){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),a(this,e,["options"])}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&c(t,e)}(e,t),n=e,i&&o(n.prototype,i),r&&o(n,r),Object.defineProperty(n,"prototype",{writable:!1}),n;var n,i,r}(n(1527).A)},3571:(t,e,n)=>{n.r(e),n.d(e,{default:()=>d});var i=n(5457),o=n(2154),r=n(1783);function a(){var t,e,n="function"==typeof Symbol?Symbol:{},i=n.iterator||"@@iterator",o=n.toStringTag||"@@toStringTag";function r(n,i,o,r){var a=i&&i.prototype instanceof c?i:c,u=Object.create(a.prototype);return l(u,"_invoke",function(n,i,o){var r,a,l,c=0,u=o||[],d=!1,p={p:0,n:0,v:t,a:f,f:f.bind(t,4),d:function(e,n){return r=e,a=0,l=t,p.n=n,s}};function f(n,i){for(a=n,l=i,e=0;!d&&c&&!o&&e<u.length;e++){var o,r=u[e],f=p.p,v=r[2];n>3?(o=v===i)&&(l=r[(a=r[4])?5:(a=3,3)],r[4]=r[5]=t):r[0]<=f&&((o=n<2&&f<r[1])?(a=0,p.v=i,p.n=r[1]):f<v&&(o=n<3||r[0]>i||i>v)&&(r[4]=n,r[5]=i,p.n=v,a=0))}if(o||n>1)return s;throw d=!0,i}return function(o,u,v){if(c>1)throw TypeError("Generator is already running");for(d&&1===u&&f(u,v),a=u,l=v;(e=a<2?t:l)||!d;){r||(a?a<3?(a>1&&(p.n=-1),f(a,l)):p.n=l:p.v=l);try{if(c=2,r){if(a||(o="next"),e=r[o]){if(!(e=e.call(r,l)))throw TypeError("iterator result is not an object");if(!e.done)return e;l=e.value,a<2&&(a=0)}else 1===a&&(e=r.return)&&e.call(r),a<2&&(l=TypeError("The iterator does not provide a '"+o+"' method"),a=1);r=t}else if((e=(d=p.n<0)?l:n.call(i,p))!==s)break}catch(e){r=t,a=1,l=e}finally{c=1}}return{value:e,done:d}}}(n,o,r),!0),u}var s={};function c(){}function u(){}function d(){}e=Object.getPrototypeOf;var p=[][i]?e(e([][i]())):(l(e={},i,function(){return this}),e),f=d.prototype=c.prototype=Object.create(p);function v(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,d):(t.__proto__=d,l(t,o,"GeneratorFunction")),t.prototype=Object.create(f),t}return u.prototype=d,l(f,"constructor",d),l(d,"constructor",u),u.displayName="GeneratorFunction",l(d,o,"GeneratorFunction"),l(f),l(f,o,"Generator"),l(f,i,function(){return this}),l(f,"toString",function(){return"[object Generator]"}),(a=function(){return{w:r,m:v}})()}function l(t,e,n,i){var o=Object.defineProperty;try{o({},"",{})}catch(t){o=0}l=function(t,e,n,i){function r(e,n){l(t,e,function(t){return this._invoke(e,n,t)})}e?o?o(t,e,{value:n,enumerable:!i,configurable:!i,writable:!i}):t[e]=n:(r("next",0),r("throw",1),r("return",2))},l(t,e,n,i)}function s(t,e,n,i,o,r,a){try{var l=t[r](a),s=l.value}catch(t){return void n(t)}l.done?e(s):Promise.resolve(s).then(i,o)}var c=new o.A;const u={data:function(){return{uploadUrl:i.A.apiUrl+"admin/upload",loading:!1,type:this.$route.meta.type,doEdit:!1,table:[],edit:{},query:{}}},components:{Tinymce:r.A},methods:{getSettings:function(){var t,e=this;return(t=a().m(function t(){var n;return a().w(function(t){for(;;)switch(t.n){case 0:return e.loading=!0,t.n=1,c.list(e.query);case 1:n=t.v,e.table=n,e.loading=!1;case 2:return t.a(2)}},t)}),function(){var e=this,n=arguments;return new Promise(function(i,o){var r=t.apply(e,n);function a(t){s(r,i,o,a,l,"next",t)}function l(t){s(r,i,o,a,l,"throw",t)}a(void 0)})})()},EditForm:function(t){this.doEdit=!0,this.edit=this.table[t]},saveData:function(){var t=this;this.loading=!0;c.update(this.edit.id,this.edit).then(function(e){t.$message({message:"Data Saved for "+t.edit.option_var,type:"success",duration:5e3}),t.doEdit=!1}).catch(function(t){console.log(t)}).finally(function(){});this.loading=!1},handleRemove:function(t,e){this.edit.option_value=""},setImage:function(t,e,n){this.edit.option_value=t}},mounted:function(){this.query.type=this.type,this.getSettings()}};const d=(0,n(4486).A)(u,function(){var t=this,e=t._self._c;return e("div",{staticClass:"app-container",attrs:{id:"settings"}},[e("div",{attrs:{id:"settingTable"}},[e("el-table",{directives:[{name:"loading",rawName:"v-loading",value:t.loading,expression:"loading"}],staticStyle:{width:"100%"},attrs:{data:t.table,border:"",fit:"","highlight-current-row":""}},[e("el-table-column",{attrs:{align:"center",label:"ID",width:"50"},scopedSlots:t._u([{key:"default",fn:function(n){return[e("span",[t._v(t._s(n.row.id))])]}}])}),t._v(" "),e("el-table-column",{attrs:{align:"center",label:"Description"},scopedSlots:t._u([{key:"default",fn:function(n){return[e("span",[t._v(t._s(n.row.description))])]}}])}),t._v(" "),e("el-table-column",{attrs:{align:"center",label:"Option Var"},scopedSlots:t._u([{key:"default",fn:function(n){return[e("span",[t._v(t._s(n.row.option_var))])]}}])}),t._v(" "),e("el-table-column",{attrs:{align:"center",label:"Value"},scopedSlots:t._u([{key:"default",fn:function(n){return["image"==n.row.html&&""!=n.row.option_value?e("div",[e("img",{staticStyle:{width:"100px",height:"100px"},attrs:{src:n.row.option_value}})]):"yesno"==n.row.html||"select"==n.row.html?e("div",[t._v("\n                                "+t._s(n.row.options[n.row.option_value])+"\n                            ")]):e("div",[t._v("\n                                "+t._s(n.row.option_value.replace(/<[^>]*>?/gm,""))+" \n                            ")])]}}])}),t._v(" "),e("el-table-column",{attrs:{align:"center",label:"Edit"},scopedSlots:t._u([{key:"default",fn:function(n){return[e("el-button",{attrs:{type:"warning"},on:{click:function(e){return t.EditForm(n.$index)}}},[e("i",{staticClass:"el-icon-edit"}),t._v(" Edit ")])]}}])})],1)],1),t._v(" "),e("el-dialog",{attrs:{title:"Edit Setting "+this.edit.description,visible:t.doEdit},on:{"update:visible":function(e){t.doEdit=e}}},[e("div",{directives:[{name:"loading",rawName:"v-loading",value:t.loading,expression:"loading"}],staticClass:"form-container"},[e("el-form",{ref:"userForm",staticStyle:{"max-width":"500px"},attrs:{model:t.edit,"label-position":"left","label-width":"150px"}},[e("el-form-item",{attrs:{label:t.$t("Option Var"),prop:"option_var"}},[e("el-input",{attrs:{disabled:!0},model:{value:t.edit.option_var,callback:function(e){t.$set(t.edit,"option_var",e)},expression:"edit.option_var"}})],1),t._v(" "),e("el-form-item",{attrs:{label:t.$t("Option Value"),prop:"option_value"}},["text"==t.edit.html?e("div",[e("el-input",{model:{value:t.edit.option_value,callback:function(e){t.$set(t.edit,"option_value",e)},expression:"edit.option_value"}})],1):"textarea"==t.edit.html?e("div",[e("el-input",{attrs:{type:"textarea",rows:"10"},model:{value:t.edit.option_value,callback:function(e){t.$set(t.edit,"option_value",e)},expression:"edit.option_value"}})],1):"yesno"==t.edit.html?e("div",[e("el-switch",{attrs:{"active-value":"yes","inactive-value":"no"},model:{value:t.edit.option_value,callback:function(e){t.$set(t.edit,"option_value",e)},expression:"edit.option_value"}})],1):"number"==t.edit.html?e("div",[e("el-input-number",{model:{value:t.edit.option_value,callback:function(e){t.$set(t.edit,"option_value",e)},expression:"edit.option_value"}})],1):"date"==t.edit.html?e("div",[e("el-date-picker",{attrs:{type:"date",placeholder:"Pick a Date",format:"yyyy-MM-dd"},model:{value:t.edit.option_value,callback:function(e){t.$set(t.edit,"option_value",e)},expression:"edit.option_value"}})],1):"image"==t.edit.html?e("div",[e("el-upload",{attrs:{action:t.uploadUrl,"show-file-list":!1,accept:"image/png, image/jpeg , image/gif","list-type":"picture-card",multiple:!1,"on-remove":t.handleRemove,"on-success":t.setImage}},[t.edit.option_value?e("img",{staticStyle:{width:"100%",height:"100%"},attrs:{src:t.edit.option_value}}):e("i",{staticClass:"el-icon-plus avatar-uploader-icon"})])],1):"editor"==t.edit.html?e("div",[e("tinymce",{attrs:{height:300},model:{value:t.edit.option_value,callback:function(e){t.$set(t.edit,"option_value",e)},expression:"edit.option_value"}})],1):e("div",[e("el-input",{model:{value:t.edit.option_value,callback:function(e){t.$set(t.edit,"option_value",e)},expression:"edit.option_value"}})],1)])],1),t._v(" "),e("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[e("el-button",{on:{click:function(e){t.doEdit=!1}}},[t._v("\n            "+t._s(t.$t("table.cancel"))+"\n          ")]),t._v(" "),e("el-button",{attrs:{type:"primary"},on:{click:function(e){return t.saveData()}}},[t._v("\n            "+t._s(t.$t("Save"))+"\n          ")])],1)],1)])],1)},[],!1,null,null,null).exports},5514:(t,e,n)=>{n.d(e,{A:()=>r});var i=n(6798),o=n.n(i)()(function(t){return t[1]});o.push([t.id,".editor-slide-upload[data-v-ca85efd8]{margin-bottom:20px}.editor-slide-upload[data-v-ca85efd8] .el-upload--picture-card{width:100%}",""]);const r=o}}]);