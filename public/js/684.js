/*! For license information please see 684.js.LICENSE.txt */
"use strict";(self.webpackChunklaravue=self.webpackChunklaravue||[]).push([[684],{140:(e,t,n)=>{n.d(t,{A:()=>o});var r=n(6798),i=n.n(r)()(function(e){return e[1]});i.push([e.id,".tinymce-container[data-v-4b676504]{line-height:normal;position:relative}.tinymce-container[data-v-4b676504] .mce-fullscreen{z-index:10000}.tinymce-textarea[data-v-4b676504]{visibility:hidden;z-index:-1}.editor-custom-btn-container[data-v-4b676504]{position:absolute;right:4px;top:4px}.fullscreen .editor-custom-btn-container[data-v-4b676504]{position:fixed;z-index:10000}.editor-upload-btn[data-v-4b676504]{display:inline-block}",""]);const o=i},1428:(e,t,n)=>{n.d(t,{A:()=>f});var r=n(5751);function i(e){return i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},i(e)}function o(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,a(r.key),r)}}function a(e){var t=function(e,t){if("object"!=i(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=i(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==i(t)?t:t+""}function s(e,t,n){return t=u(t),function(e,t){if(t&&("object"==i(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(e,l()?Reflect.construct(t,n||[],u(e).constructor):t.apply(e,n))}function l(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(e){}return(l=function(){return!!e})()}function u(e){return u=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},u(e)}function c(e,t){return c=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},c(e,t)}var f=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),s(this,t,["users"])}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&c(e,t)}(t,e),n=t,(i=[{key:"permissions",value:function(e){return(0,r.A)({url:"/"+this.uri+"/"+e+"/permissions",method:"get"})}},{key:"updatePermission",value:function(e,t){return(0,r.A)({url:"/"+this.uri+"/"+e+"/permissions",method:"put",data:t})}},{key:"DoVerify",value:function(e,t,n){return(0,r.A)({url:"/"+this.uri+"/verifiy/"+e,method:"post",data:{field:t,status:n}})}},{key:"updateArea",value:function(e,t){return(0,r.A)({url:"/"+this.uri+"/area/"+e,method:"post",data:{area:t}})}}])&&o(n.prototype,i),a&&o(n,a),Object.defineProperty(n,"prototype",{writable:!1}),n;var n,i,a}(n(1527).A)},1527:(e,t,n)=>{n.d(t,{A:()=>s});var r=n(5751);function i(e){return i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},i(e)}function o(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,a(r.key),r)}}function a(e){var t=function(e,t){if("object"!=i(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=i(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==i(t)?t:t+""}var s=function(){return e=function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.uri=t},(t=[{key:"list",value:function(e){return(0,r.A)({url:"/"+this.uri,method:"get",params:e})}},{key:"get",value:function(e){return(0,r.A)({url:"/"+this.uri+"/"+e,method:"get"})}},{key:"store",value:function(e){return(0,r.A)({url:"/"+this.uri,method:"post",data:e})}},{key:"update",value:function(e,t){return(0,r.A)({url:"/"+this.uri+"/"+e,method:"put",data:t})}},{key:"destroy",value:function(e){return(0,r.A)({url:"/"+this.uri+"/"+e,method:"delete"})}},{key:"active",value:function(e,t,n){return(0,r.A)({url:"/"+this.uri+"/active/"+n,method:"post",data:{status:t}})}},{key:"select",value:function(e){return(0,r.A)({url:"/"+this.uri+"/select",method:"get",params:e})}},{key:"selectByType",value:function(e){return(0,r.A)({url:"/"+this.uri+"/select/"+e,method:"get"})}}])&&o(e.prototype,t),n&&o(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e;var e,t,n}()},1538:(e,t,n)=>{n.d(t,{A:()=>u});var r=n(5457);const i={name:"EditorSlideUpload",props:{color:{type:String,default:"#1890ff"}},data:function(){return{apiUrl:r.A.apiUrl+"admin/upload?return=object",dialogVisible:!1,listObj:{},fileList:[]}},methods:{checkAllSuccess:function(){var e=this;return Object.keys(this.listObj).every(function(t){return e.listObj[t].hasSuccess})},handleSubmit:function(){var e=this,t=Object.keys(this.listObj).map(function(t){return e.listObj[t]});this.checkAllSuccess()?(this.$emit("successCBK",t),this.listObj={},this.fileList=[],this.dialogVisible=!1):this.$message("Please wait for all images to be uploaded successfully or there is a network problem, please refresh the page and re-upload!")},handleSuccess:function(e,t){for(var n=t.uid,r=Object.keys(this.listObj),i=0,o=r.length;i<o;i++)if(this.listObj[r[i]].uid===n)return this.listObj[r[i]].url=e.files.file,void(this.listObj[r[i]].hasSuccess=!0)},handleRemove:function(e){for(var t=e.uid,n=Object.keys(this.listObj),r=0,i=n.length;r<i;r++)if(this.listObj[n[r]].uid===t)return void delete this.listObj[n[r]]},beforeUpload:function(e){var t=this,n=window.URL||window.webkitURL,r=e.uid;return this.listObj[r]={},new Promise(function(i,o){var a=new Image;a.src=n.createObjectURL(e),a.onload=function(){t.listObj[r]={hasSuccess:!1,uid:e.uid,width:this.width,height:this.height}},i(!0)})}}};var o=n(5072),a=n.n(o),s=n(5514),l={insert:"head",singleton:!1};a()(s.A,l);s.A.locals;const u=(0,n(4486).A)(i,function(){var e=this,t=e._self._c;return t("div",{staticClass:"upload-container"},[t("el-button",{style:{background:e.color,borderColor:e.color},attrs:{icon:"el-icon-upload",size:"mini",type:"primary"},on:{click:function(t){e.dialogVisible=!0}}},[e._v("\n    Upload Image\n  ")]),e._v(" "),t("el-dialog",{attrs:{visible:e.dialogVisible},on:{"update:visible":function(t){e.dialogVisible=t}}},[t("el-upload",{staticClass:"editor-slide-upload",attrs:{multiple:!0,"file-list":e.fileList,"show-file-list":!0,"on-remove":e.handleRemove,"on-success":e.handleSuccess,"before-upload":e.beforeUpload,action:e.apiUrl,"list-type":"picture-card"}},[t("el-button",{attrs:{size:"small",type:"primary"}},[e._v("Click here to upload")])],1),e._v(" "),t("el-button",{on:{click:function(t){e.dialogVisible=!1}}},[e._v("Cancel")]),e._v(" "),t("el-button",{attrs:{type:"primary"},on:{click:e.handleSubmit}},[e._v("Confirm")])],1)],1)},[],!1,null,"ca85efd8",null).exports},1783:(e,t,n)=>{n.d(t,{A:()=>f});var r=n(1538),i=n(1795);const o=["searchreplace bold italic underline strikethrough alignleft aligncenter alignright outdent indent  blockquote undo redo removeformat subscript superscript code codesample","hr bullist numlist link image charmap preview anchor pagebreak insertdatetime media table emoticons forecolor backcolor fullscreen"],a={name:"Tinymce",components:{editorImage:r.A},props:{id:{type:String,default:function(){return"vue-tinymce-"+ +new Date+(1e3*Math.random()).toFixed(0)}},value:{type:String,default:""},toolbar:{type:Array,required:!1,default:function(){return[]}},menubar:{type:String,default:"file edit insert view format table"},height:{type:Number,required:!1,default:360}},data:function(){return{hasChange:!1,hasInit:!1,tinymceId:this.id,fullscreen:!1,languageTypeList:{en:"en",zh:"zh_CN"}}},computed:{language:function(){return this.languageTypeList[this.$store.getters.language]}},watch:{value:function(e){var t=this;!this.hasChange&&this.hasInit&&this.$nextTick(function(){return window.tinymce.get(t.tinymceId).setContent(e||"")})},language:function(){var e=this;this.destroyTinymce(),this.$nextTick(function(){return e.initTinymce()})}},mounted:function(){this.initTinymce()},activated:function(){this.initTinymce()},deactivated:function(){this.destroyTinymce()},destroyed:function(){this.destroyTinymce()},methods:{initTinymce:function(){var e=this,t=this;window.tinymce.init({language:this.language,selector:"#".concat(this.tinymceId),height:this.height,body_class:"panel-body ",object_resizing:!1,toolbar:this.toolbar.length>0?this.toolbar:o,menubar:this.menubar,plugins:i.A,end_container_on_empty_block:!0,powerpaste_word_import:"clean",code_dialog_height:450,code_dialog_width:1e3,advlist_bullet_styles:"square",advlist_number_styles:"default",imagetools_cors_hosts:["www.tinymce.com","codepen.io"],convert_urls:!1,default_link_target:"_blank",link_title:!1,nonbreaking_force_tab:!0,init_instance_callback:function(n){t.value&&n.setContent(t.value),t.hasInit=!0,n.on("NodeChange Change KeyUp SetContent",function(){e.hasChange=!0,e.$emit("input",n.getContent())})},setup:function(e){e.on("FullscreenStateChanged",function(e){t.fullscreen=e.state})}})},destroyTinymce:function(){var e=window.tinymce.get(this.tinymceId);this.fullscreen&&e.execCommand("mceFullScreen"),e&&e.destroy()},setContent:function(e){window.tinymce.get(this.tinymceId).setContent(e)},getContent:function(){window.tinymce.get(this.tinymceId).getContent()},imageSuccessCBK:function(e){var t=this;e.forEach(function(e){window.tinymce.get(t.tinymceId).insertContent('<img class="wscnph" src="'.concat(e.url,'" >'))})}}};var s=n(5072),l=n.n(s),u=n(140),c={insert:"head",singleton:!1};l()(u.A,c);u.A.locals;const f=(0,n(4486).A)(a,function(){var e=this,t=e._self._c;return t("div",{staticClass:"tinymce-container editor-container",class:{fullscreen:e.fullscreen}},[t("textarea",{staticClass:"tinymce-textarea",attrs:{id:e.tinymceId}}),e._v(" "),t("div",{staticClass:"editor-custom-btn-container"},[t("editorImage",{staticClass:"editor-upload-btn",attrs:{color:"#1890ff"},on:{successCBK:e.imageSuccessCBK}})],1)])},[],!1,null,"4b676504",null).exports},1795:(e,t,n)=>{n.d(t,{A:()=>r});const r=["advlist anchor autolink autosave code codesample colorpicker colorpicker contextmenu directionality emoticons fullscreen hr image imagetools insertdatetime link lists media nonbreaking noneditable pagebreak paste preview print save searchreplace spellchecker tabfocus table template textcolor textpattern visualblocks visualchars wordcount mathslate"]},5514:(e,t,n)=>{n.d(t,{A:()=>o});var r=n(6798),i=n.n(r)()(function(e){return e[1]});i.push([e.id,".editor-slide-upload[data-v-ca85efd8]{margin-bottom:20px}.editor-slide-upload[data-v-ca85efd8] .el-upload--picture-card{width:100%}",""]);const o=i},7684:(e,t,n)=>{n.r(t),n.d(t,{default:()=>p});var r=n(5457),i=n(1783),o=n(1428),a=n(2215),s=n.n(a);function l(){var e,t,n="function"==typeof Symbol?Symbol:{},r=n.iterator||"@@iterator",i=n.toStringTag||"@@toStringTag";function o(n,r,i,o){var l=r&&r.prototype instanceof s?r:s,c=Object.create(l.prototype);return u(c,"_invoke",function(n,r,i){var o,s,l,u=0,c=i||[],f=!1,d={p:0,n:0,v:e,a:m,f:m.bind(e,4),d:function(t,n){return o=t,s=0,l=e,d.n=n,a}};function m(n,r){for(s=n,l=r,t=0;!f&&u&&!i&&t<c.length;t++){var i,o=c[t],m=d.p,p=o[2];n>3?(i=p===r)&&(l=o[(s=o[4])?5:(s=3,3)],o[4]=o[5]=e):o[0]<=m&&((i=n<2&&m<o[1])?(s=0,d.v=r,d.n=o[1]):m<p&&(i=n<3||o[0]>r||r>p)&&(o[4]=n,o[5]=r,d.n=p,s=0))}if(i||n>1)return a;throw f=!0,r}return function(i,c,p){if(u>1)throw TypeError("Generator is already running");for(f&&1===c&&m(c,p),s=c,l=p;(t=s<2?e:l)||!f;){o||(s?s<3?(s>1&&(d.n=-1),m(s,l)):d.n=l:d.v=l);try{if(u=2,o){if(s||(i="next"),t=o[i]){if(!(t=t.call(o,l)))throw TypeError("iterator result is not an object");if(!t.done)return t;l=t.value,s<2&&(s=0)}else 1===s&&(t=o.return)&&t.call(o),s<2&&(l=TypeError("The iterator does not provide a '"+i+"' method"),s=1);o=e}else if((t=(f=d.n<0)?l:n.call(r,d))!==a)break}catch(t){o=e,s=1,l=t}finally{u=1}}return{value:t,done:f}}}(n,i,o),!0),c}var a={};function s(){}function c(){}function f(){}t=Object.getPrototypeOf;var d=[][r]?t(t([][r]())):(u(t={},r,function(){return this}),t),m=f.prototype=s.prototype=Object.create(d);function p(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,f):(e.__proto__=f,u(e,i,"GeneratorFunction")),e.prototype=Object.create(m),e}return c.prototype=f,u(m,"constructor",f),u(f,"constructor",c),c.displayName="GeneratorFunction",u(f,i,"GeneratorFunction"),u(m),u(m,i,"Generator"),u(m,r,function(){return this}),u(m,"toString",function(){return"[object Generator]"}),(l=function(){return{w:o,m:p}})()}function u(e,t,n,r){var i=Object.defineProperty;try{i({},"",{})}catch(e){i=0}u=function(e,t,n,r){function o(t,n){u(e,t,function(e){return this._invoke(t,n,e)})}t?i?i(e,t,{value:n,enumerable:!r,configurable:!r,writable:!r}):e[t]=n:(o("next",0),o("throw",1),o("return",2))},u(e,t,n,r)}function c(e,t,n,r,i,o,a){try{var s=e[o](a),l=s.value}catch(e){return void n(e)}s.done?t(l):Promise.resolve(l).then(r,i)}function f(e){return function(){var t=this,n=arguments;return new Promise(function(r,i){var o=e.apply(t,n);function a(e){c(o,r,i,a,s,"next",e)}function s(e){c(o,r,i,a,s,"throw",e)}a(void 0)})}}var d=new o.A;const m={data:function(){return{uploadUrl:r.A.apiUrl+"admin/upload",loading:!1,type:"",query:{},form:{title:"",message:"",type:["email"],users:[]},users:[]}},components:{Tinymce:i.A},methods:{getSettings:function(){return f(l().m(function e(){return l().w(function(e){for(;;)if(0===e.n)return e.a(2)},e)}))()},searchUser:function(e){var t=this;return f(l().m(function n(){return l().w(function(n){for(;;)switch(n.n){case 0:if(!(e.length>=3)){n.n=2;break}return t.loading=!0,n.n=1,d.select({s:e});case 1:t.users=n.v,t.loading=!1,n.n=3;break;case 2:t.users=[];case 3:return n.a(2)}},n)}))()},SendMessage:function(){if(!this.form.title||this.form.title.length<3)this.$message.error("Please Set Vaild Title");else if(!this.form.message||this.form.message.length<20)this.$message.error("Please Set Vaild Message");else{var e=this,t={title:this.form.title,message:this.form.message,users:this.form.users,type:this.form.type};fetch(r.A.apiUrl+"customMessages",{method:"POST",headers:{Accept:"application/json","Content-Type":"application/json",Authorization:"Bearer "+s().get("Admin-Token")},body:JSON.stringify(t)}).then(function(e){return e.json()}).then(function(t){t.errors?e.$message.error(t.message):e.$message.success("Message Sent Succefully")})}}},mounted:function(){this.getSettings()}};const p=(0,n(4486).A)(m,function(){var e=this,t=e._self._c;return t("div",{staticClass:"app-container",attrs:{id:"customMessage"}},[t("el-form",{ref:"form",attrs:{model:e.form,"label-width":"250px"}},[t("el-form-item",{attrs:{label:"Message title"}},[t("el-input",{model:{value:e.form.title,callback:function(t){e.$set(e.form,"title",t)},expression:"form.title"}})],1),e._v(" "),t("el-form-item",{attrs:{label:"Message Type"}},[t("el-select",{attrs:{multiple:"",placeholder:"please select Message type"},model:{value:e.form.type,callback:function(t){e.$set(e.form,"type",t)},expression:"form.type"}},[t("el-option",{attrs:{label:"Email",value:"email"}}),e._v(" "),t("el-option",{attrs:{label:"SMS",value:"sms"}}),e._v(" "),t("el-option",{attrs:{label:"Notification",value:"pushed"}})],1)],1),e._v(" "),e.form.type.includes("email")?t("el-form-item",{attrs:{label:"Message"}},[t("tinymce",{ref:"description",attrs:{height:300},model:{value:e.form.message,callback:function(t){e.$set(e.form,"message",t)},expression:"form.message"}})],1):t("el-form-item",{attrs:{label:"Message"}},[t("el-input",{ref:"description",attrs:{type:"textarea",height:300},model:{value:e.form.description,callback:function(t){e.$set(e.form,"description",t)},expression:"form.description"}})],1),e._v(" "),t("el-form-item",{attrs:{label:"Send to Users"}},[t("el-select",{attrs:{multiple:"",filterable:"",remote:"","reserve-keyword":"",placeholder:"Please Search for name","remote-method":e.searchUser,loading:e.loading},model:{value:e.form.users,callback:function(t){e.$set(e.form,"users",t)},expression:"form.users"}},e._l(e.users,function(e){return t("el-option",{key:e.id,attrs:{label:e.name,value:e.id}})}),1)],1),e._v(" "),t("el-form-item",[t("el-button",{attrs:{type:"primary"},on:{click:e.SendMessage}},[e._v("Send")])],1)],1)],1)},[],!1,null,null,null).exports}}]);